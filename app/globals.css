@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary-300: var(--primary-300);
  --color-primary-400: var(--primary-400);
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary-400: var(--secondary-400);
  --color-secondary-500: var(--secondary-500);
  --color-secondary-600: var(--secondary-600);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-border: var(--border);
  --color-ring: var(--ring);
  --color-card: var(--card);

  --color-highlight-primary: var(--highlight-primary);
  --color-highlight-secondary: var(--highlight-secondary);

  --color-button-primary-default: var(--button-primary-default);
  --color-button-primary-hover: var(--button-primary-hover);
  --color-button-secondary-default: var(--button-secondary-default);
  --color-button-secondary-hover: var(--button-secondary-hover);

  --radius: var(--radius);
  --drop-shadow-card: 0 0px 24px var(--drop-shadow-color);
}

@layer base {
  /* CSS Variables - Light Mode */
  :root {
    --background: oklch(1 0 290);
    --foreground: oklch(0.145 0 290);
    --primary: oklch(0.205 0 290);
    --primary-foreground: oklch(0.985 0 290);
    --secondary: oklch(0.97 0 290);
    --secondary-foreground: oklch(0.5 0.02 290);
    --muted: oklch(0.97 0 290);
    --muted-foreground: oklch(0.556 0 290);
    --border: oklch(0.922 0 290);
    --ring: oklch(0.708 0 290);
    --card: oklch(1 0 290);

    /* Extended color variables */
    --primary-300: oklch(0.45 0 290);
    --primary-400: oklch(0.35 0 290);
    --primary-500: oklch(0.205 0 290);
    --primary-600: oklch(0.155 0 290);
    --secondary-300: oklch(1 0 290);
    --secondary-400: oklch(0.99 0 290);
    --secondary-500: oklch(0.97 0 290);
    --secondary-600: oklch(0.94 0 290);
    --highlight-primary: rgba(255, 255, 255, 0.15);
    --highlight-secondary: rgba(255, 255, 255, 0.6);
    --drop-shadow-color: oklch(0.145 0 290 / 0.08);

    /* Button backgrounds */
    --button-primary-default: linear-gradient(
      to bottom,
      var(--primary-400) 0%,
      var(--primary-500) 24%
    );
    --button-primary-hover: linear-gradient(
      to bottom,
      var(--primary-300) 0%,
      var(--primary-400) 24%
    );
    --button-secondary-default: linear-gradient(
      to bottom,
      var(--secondary-400) 0%,
      var(--secondary-500) 24%
    );
    --button-secondary-hover: linear-gradient(
      to bottom,
      var(--secondary-500) 0%,
      var(--secondary-600) 24%
    );
  }

  /* CSS Variables - Dark Mode */
  .dark {
    --background: oklch(0.145 0 290);
    --foreground: oklch(0.985 0 290);
    --primary: oklch(0.922 0 290);
    --primary-foreground: oklch(0.205 0 290);
    --secondary: oklch(0.269 0 290);
    --secondary-foreground: oklch(0.75 0 290);
    --muted: oklch(0.269 0 290);
    --muted-foreground: oklch(0.708 0 290);
    --border: oklch(1 0 290 / 5%);
    --ring: oklch(0.556 0 290);
    --card: oklch(0.22 0 290);

    /* Extended color variables */
    --primary-300: oklch(1 0 290);
    --primary-400: oklch(0.94 0 290);
    --primary-500: oklch(0.88 0 290);
    --primary-600: oklch(0.84 0 290);
    --secondary-300: oklch(0.45 0 290);
    --secondary-400: oklch(0.27 0 290);
    --secondary-500: oklch(0.22 0 290);
    --secondary-600: oklch(0.15 0 290);
    --highlight-primary: rgba(255, 255, 255, 0.1);
    --highlight-secondary: rgba(255, 255, 255, 0.01);
    --drop-shadow-color: oklch(0.985 0 290 / 0.05);

    /* Button backgrounds - inherit from updated color variables */
    --button-primary-default: linear-gradient(
      to bottom,
      var(--primary-300) 0%,
      var(--primary-500) 24%
    );
    --button-primary-hover: linear-gradient(
      to bottom,
      var(--primary-400) 0%,
      var(--primary-600) 24%
    );
    --button-secondary-default: linear-gradient(
      to bottom,
      var(--secondary-400) 0%,
      var(--secondary-500) 24%
    );
    --button-secondary-hover: linear-gradient(
      to bottom,
      var(--secondary-500) 0%,
      var(--secondary-600) 24%
    );
  }

  /* Base Styles */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  * {
    @apply border-border outline-ring/50 subpixel-antialiased;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* Typography */
  .title {
    @apply text-4xl font-semibold text-pretty;
  }

  h1,
  .prose h1 {
    @apply text-4xl md:text-5xl;
  }

  h2,
  .prose h2 {
    @apply text-3xl md:text-4xl;
  }

  h3,
  .prose h3 {
    @apply text-2xl md:text-3xl;
  }

  h4,
  .prose h4 {
    @apply text-xl md:text-2xl;
  }

  /* Prose Styles */
  .prose .anchor {
    @apply invisible absolute no-underline;
    margin-left: -1em;
    padding-right: 0.5em;
    width: 80%;
    max-width: 700px;
    cursor: pointer;
  }

  .prose .anchor:after {
    @apply text-foreground/20;
    content: "#";
  }

  .anchor:hover,
  .prose *:hover > .anchor {
    @apply visible;
  }

  .prose a {
    @apply text-foreground font-bold transition-all;
  }

  .prose a:hover {
    @apply text-secondary-foreground;
  }

  .prose p {
    @apply text-secondary-foreground my-4 leading-7;
  }

  .prose strong {
    @apply leading-7 font-semibold;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    @apply text-foreground mt-6 mb-2 font-semibold;
  }

  .prose ul,
  .prose ol {
    @apply text-secondary-foreground pl-6;
  }

  .prose ul {
    @apply list-disc;
  }

  .prose ol {
    @apply list-decimal;
  }

  .prose hr {
    @apply border-border mx-auto my-8 max-w-96 border-t border-dashed;
  }

  .prose > :first-child {
    margin-top: 1.25em !important;
    margin-bottom: 1.25em !important;
  }

  .prose img {
    @apply mx-auto my-0 rounded-xl;
  }

  /* Code Blocks */
  .prose pre {
    @apply border-border bg-muted text-muted-foreground overflow-x-auto rounded-lg border px-3 py-2 text-sm;
  }

  .prose code {
    @apply rounded-lg px-1 py-0.5;
  }

  .prose pre code {
    @apply p-0;
    border: initial;
    line-height: 1.5;
  }

  .prose code span {
    @apply font-semibold;
  }

  pre::-webkit-scrollbar {
    display: none;
  }

  pre {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Form Elements */
  input[type="text"],
  input[type="email"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  /* Tables */
  table {
    display: block;
    max-width: fit-content;
    overflow-x: auto;
    white-space: nowrap;
  }
}
